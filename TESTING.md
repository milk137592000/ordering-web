# æ¸¬è©¦æŒ‡å— - ä¸äºŒçƒ¯Cç­é»é¤ç³»çµ±

æœ¬æ–‡ä»¶èªªæ˜å¦‚ä½•é‹è¡Œå’Œç¶­è­·æœ¬å°ˆæ¡ˆçš„æ¸¬è©¦å¥—ä»¶ã€‚

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å®‰è£ä¾è³´
```bash
npm install
```

### å®‰è£ Playwright ç€è¦½å™¨
```bash
npx playwright install
```

### å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
```bash
npm run dev
```

### é‹è¡Œæ¸¬è©¦
```bash
# é‹è¡Œæ‰€æœ‰æ¸¬è©¦
npm run test:e2e:all

# æˆ–åˆ†åˆ¥é‹è¡Œä¸åŒé¡å‹çš„æ¸¬è©¦
npm run test:e2e           # ç«¯åˆ°ç«¯æ¸¬è©¦
npm run test:e2e:performance  # æ•ˆèƒ½æ¸¬è©¦
npm run test:e2e:usability    # å¯ç”¨æ€§æ¸¬è©¦
```

## ğŸ“ æ¸¬è©¦çµæ§‹

```
e2e/
â”œâ”€â”€ complete-ordering-flow.spec.ts    # å®Œæ•´è¨‚é¤æµç¨‹æ¸¬è©¦
â”œâ”€â”€ historical-orders.spec.ts         # æ­·å²è¨‚å–®åŠŸèƒ½æ¸¬è©¦
â”œâ”€â”€ error-handling.spec.ts            # éŒ¯èª¤è™•ç†æ¸¬è©¦
â”œâ”€â”€ basic-functionality.spec.ts       # åŸºæœ¬åŠŸèƒ½æ¸¬è©¦
â”œâ”€â”€ performance.spec.ts               # æ•ˆèƒ½æ¸¬è©¦
â”œâ”€â”€ firebase-performance.spec.ts      # Firebase æ•ˆèƒ½æ¸¬è©¦
â”œâ”€â”€ accessibility.spec.ts             # ç„¡éšœç¤™æ€§æ¸¬è©¦
â”œâ”€â”€ responsive.spec.ts                # éŸ¿æ‡‰å¼è¨­è¨ˆæ¸¬è©¦
â”œâ”€â”€ user-experience.spec.ts           # ç”¨æˆ¶é«”é©—æ¸¬è©¦
â””â”€â”€ utils/
    â””â”€â”€ performance-monitor.ts         # æ•ˆèƒ½ç›£æ§å·¥å…·

playwright.config.ts                  # ä¸»è¦æ¸¬è©¦é…ç½®
playwright-performance.config.ts      # æ•ˆèƒ½æ¸¬è©¦é…ç½®
playwright-usability.config.ts        # å¯ç”¨æ€§æ¸¬è©¦é…ç½®
```

## ğŸ§ª æ¸¬è©¦é¡å‹èªªæ˜

### ç«¯åˆ°ç«¯æ¸¬è©¦ (E2E)
æ¸¬è©¦å®Œæ•´çš„ç”¨æˆ¶æµç¨‹ï¼Œç¢ºä¿æ‰€æœ‰åŠŸèƒ½æ­£å¸¸é‹ä½œã€‚

**ä¸»è¦æ¸¬è©¦æ¡ˆä¾‹:**
- åœ˜éšŠè¨­å®š â†’ é¤å»³é¸æ“‡ â†’ é£²æ–™åº—é¸æ“‡ â†’ é»é¤ â†’ å®Œæˆè¨‚å–®
- æ­·å²è¨‚å–®æŸ¥çœ‹å’Œå°èˆª
- éŒ¯èª¤è™•ç†å’Œé‚Šç•Œæƒ…æ³
- è‡¨æ™‚æˆå“¡æ–°å¢åŠŸèƒ½

### æ•ˆèƒ½æ¸¬è©¦
ç›£æ§æ‡‰ç”¨ç¨‹å¼çš„æ•ˆèƒ½æŒ‡æ¨™ï¼Œç¢ºä¿è‰¯å¥½çš„ç”¨æˆ¶é«”é©—ã€‚

**æ¸¬è©¦æŒ‡æ¨™:**
- é é¢è¼‰å…¥æ™‚é–“ (ç›®æ¨™: < 3ç§’)
- Firebase æ“ä½œéŸ¿æ‡‰æ™‚é–“ (ç›®æ¨™: < 2ç§’)
- UI äº’å‹•éŸ¿æ‡‰æ™‚é–“ (ç›®æ¨™: < 100ms)
- è¨˜æ†¶é«”ä½¿ç”¨é‡ (ç›®æ¨™: < 50MB)

### å¯ç”¨æ€§æ¸¬è©¦
ç¢ºä¿æ‡‰ç”¨ç¨‹å¼ç¬¦åˆç„¡éšœç¤™æ¨™æº–å’ŒéŸ¿æ‡‰å¼è¨­è¨ˆè¦æ±‚ã€‚

**æ¸¬è©¦ç¯„åœ:**
- WCAG 2.1 AA ç„¡éšœç¤™æ¨™æº–
- éµç›¤å°èˆªæ”¯æ´
- è¢å¹•é–±è®€å™¨ç›¸å®¹æ€§
- éŸ¿æ‡‰å¼è¨­è¨ˆ (æ‰‹æ©Ÿ/å¹³æ¿/æ¡Œé¢)
- è§¸æ§å‹å–„ä»‹é¢

## ğŸ”§ æ¸¬è©¦é…ç½®

### ç€è¦½å™¨æ”¯æ´
- Desktop Chrome
- Desktop Firefox  
- Desktop Safari
- Mobile Chrome
- Mobile Safari

### æ¸¬è©¦ç’°å¢ƒ
- **é–‹ç™¼ç’°å¢ƒ:** http://localhost:5173
- **è¶…æ™‚è¨­å®š:** 30-60 ç§’ (ä¾æ¸¬è©¦é¡å‹)
- **é‡è©¦æ¬¡æ•¸:** CI ç’°å¢ƒ 2 æ¬¡ï¼Œæœ¬åœ° 0 æ¬¡

## ğŸ“Š æŸ¥çœ‹æ¸¬è©¦çµæœ

### HTML å ±å‘Š
æ¸¬è©¦åŸ·è¡Œå¾Œæœƒè‡ªå‹•ç”Ÿæˆ HTML å ±å‘Šï¼š
```bash
# å ±å‘Šæœƒåœ¨ç€è¦½å™¨ä¸­è‡ªå‹•é–‹å•Ÿ
# æˆ–æ‰‹å‹•é–‹å•Ÿ: playwright-report/index.html
```

### æ¸¬è©¦æˆªåœ–å’Œå½±ç‰‡
å¤±æ•—çš„æ¸¬è©¦æœƒè‡ªå‹•ç”¢ç”Ÿï¼š
- æˆªåœ– (PNG)
- éŒ„å½± (WebM)
- è¿½è¹¤æª”æ¡ˆ (ç”¨æ–¼é™¤éŒ¯)

### æ•ˆèƒ½å ±å‘Š
æ•ˆèƒ½æ¸¬è©¦æœƒç”¢ç”Ÿè©³ç´°çš„æ•ˆèƒ½æŒ‡æ¨™å ±å‘Šï¼ŒåŒ…æ‹¬ï¼š
- è¼‰å…¥æ™‚é–“åˆ†æ
- ç¶²è·¯è«‹æ±‚çµ±è¨ˆ
- è¨˜æ†¶é«”ä½¿ç”¨æƒ…æ³
- Firebase æ“ä½œæ•ˆèƒ½

## ğŸ› ï¸ ç¶­è­·å’Œé™¤éŒ¯

### å¸¸è¦‹å•é¡Œ

#### 1. Firebase é€£æ¥è¶…æ™‚
**å•é¡Œ:** æ¸¬è©¦åœ¨ç­‰å¾… Firebase é€£æ¥æ™‚è¶…æ™‚
**è§£æ±ºæ–¹æ¡ˆ:**
```bash
# å¢åŠ è¶…æ™‚æ™‚é–“æˆ–æª¢æŸ¥ Firebase é…ç½®
# ç¢ºä¿ç¶²è·¯é€£æ¥æ­£å¸¸
```

#### 2. å…ƒç´ æ‰¾ä¸åˆ°
**å•é¡Œ:** æ¸¬è©¦ç„¡æ³•æ‰¾åˆ°é é¢å…ƒç´ 
**è§£æ±ºæ–¹æ¡ˆ:**
- æª¢æŸ¥å…ƒç´ æ˜¯å¦å·²è¼‰å…¥
- ç¢ºèª `data-testid` å±¬æ€§æ­£ç¢º
- å¢åŠ ç­‰å¾…æ™‚é–“

#### 3. æ¸¬è©¦ä¸ç©©å®š
**å•é¡Œ:** æ¸¬è©¦çµæœä¸ä¸€è‡´
**è§£æ±ºæ–¹æ¡ˆ:**
- æª¢æŸ¥ç¶²è·¯ä¾è³´
- å¢åŠ é©ç•¶çš„ç­‰å¾…æ¢ä»¶
- ä½¿ç”¨æ›´å¯é çš„é¸æ“‡å™¨

### æ–°å¢æ¸¬è©¦

#### 1. æ–°å¢æ¸¬è©¦æ¡ˆä¾‹
```typescript
test('should do something', async ({ page }) => {
  await page.goto('/');
  await page.waitForLoadState('domcontentloaded');
  
  // ä½ çš„æ¸¬è©¦é‚è¼¯
  await expect(page.getByText('é æœŸæ–‡å­—')).toBeVisible();
});
```

#### 2. æ–°å¢æ¸¬è©¦ ID
åœ¨çµ„ä»¶ä¸­æ·»åŠ  `data-testid` å±¬æ€§ï¼š
```tsx
<button data-testid="my-button">é»æ“Šæˆ‘</button>
```

åœ¨æ¸¬è©¦ä¸­ä½¿ç”¨ï¼š
```typescript
await page.getByTestId('my-button').click();
```

### æ•ˆèƒ½æ¸¬è©¦æœ€ä½³å¯¦è¸

#### 1. ä½¿ç”¨æ•ˆèƒ½ç›£æ§å™¨
```typescript
import { PerformanceMonitor } from './utils/performance-monitor';

const monitor = new PerformanceMonitor(page);
const metrics = await monitor.getMetrics();
```

#### 2. è¨­å®šæ•ˆèƒ½åŸºæº–
```typescript
expect(loadTime).toBeLessThan(3000); // 3 ç§’
expect(memoryUsage).toBeLessThan(50 * 1024 * 1024); // 50MB
```

## ğŸš€ CI/CD æ•´åˆ

### GitHub Actions ç¯„ä¾‹
```yaml
name: E2E Tests
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - run: npm ci
      - run: npx playwright install
      - run: npm run test:e2e:all
```

## ğŸ“ˆ æ¸¬è©¦æŒ‡æ¨™è¿½è¹¤

å»ºè­°å®šæœŸç›£æ§ä»¥ä¸‹æŒ‡æ¨™ï¼š
- æ¸¬è©¦é€šéç‡
- æ¸¬è©¦åŸ·è¡Œæ™‚é–“
- æ•ˆèƒ½åŸºæº–é”æˆç‡
- ç„¡éšœç¤™æ€§åˆè¦ç¨‹åº¦

## ğŸ¤ è²¢ç»æŒ‡å—

### æ–°å¢æ¸¬è©¦æ™‚è«‹ç¢ºä¿ï¼š
1. æ¸¬è©¦æ¡ˆä¾‹æœ‰æ¸…æ¥šçš„æè¿°
2. ä½¿ç”¨é©ç•¶çš„ç­‰å¾…æ¢ä»¶
3. æ·»åŠ å¿…è¦çš„è¨»è§£
4. éµå¾ªç¾æœ‰çš„å‘½åæ…£ä¾‹
5. æ›´æ–°ç›¸é—œæ–‡ä»¶

### æ¸¬è©¦å‘½åæ…£ä¾‹
- æª”æ¡ˆåç¨±ï¼š`feature-name.spec.ts`
- æ¸¬è©¦æè¿°ï¼š`should [å‹•ä½œ] when [æ¢ä»¶]`
- æ¸¬è©¦ IDï¼š`kebab-case` æ ¼å¼

---

## ğŸ“ æ”¯æ´

å¦‚æœ‰æ¸¬è©¦ç›¸é—œå•é¡Œï¼Œè«‹ï¼š
1. æª¢æŸ¥æœ¬æ–‡ä»¶çš„å¸¸è¦‹å•é¡Œéƒ¨åˆ†
2. æŸ¥çœ‹æ¸¬è©¦å ±å‘Šä¸­çš„éŒ¯èª¤è¨Šæ¯
3. æª¢æŸ¥ Playwright å®˜æ–¹æ–‡ä»¶
4. è¯ç¹«é–‹ç™¼åœ˜éšŠ

**ç¥æ¸¬è©¦é †åˆ©ï¼** ğŸ‰
